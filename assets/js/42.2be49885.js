(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{295:function(t,a,s){t.exports=s.p+"assets/img/19010104.147a6367.png"},296:function(t,a,s){t.exports=s.p+"assets/img/19010105.931a0846.png"},581:function(t,a,s){"use strict";s.r(a);var e=s(6),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",[t._v(" UIImage 使用细节 ")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("引言:")])]),t._v(" "),e("br"),t._v(" "),e("h2",{attrs:{id:"一-清除超出父视图部分"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一-清除超出父视图部分"}},[t._v("#")]),t._v(" 一. 清除超出父视图部分")]),t._v(" "),e("div",{staticClass:"language-objectivec extra-class"},[e("pre",{pre:!0,attrs:{class:"language-objectivec"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 清除")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("imgView"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clearsContextBeforeDrawing "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" YES"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("br"),t._v(" "),e("h2",{attrs:{id:"二-创建纯色图片"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二-创建纯色图片"}},[t._v("#")]),t._v(" 二. 创建纯色图片")]),t._v(" "),e("h3",{attrs:{id:"_1-创建"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-创建"}},[t._v("#")]),t._v(" 1. 创建:")]),t._v(" "),e("div",{staticClass:"language-objectivec extra-class"},[e("pre",{pre:!0,attrs:{class:"language-objectivec"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建纯色图片")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("UIImage "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("imageWithColor"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("UIColor "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("color "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    CGRect rect "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("CGRectMake")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("view"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("frame"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("size"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("width"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("view"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("frame"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("size"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("height"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("UIGraphicsBeginImageContext")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("rect"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("size"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    CGContextRef context "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("UIGraphicsGetCurrentContext")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("CGContextSetFillColorWithColor")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("context"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("color CGColor"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("CGContextFillRect")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("context"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" rect"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    UIImage "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("img "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("UIGraphicsGetImageFromCurrentImageContext")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("UIGraphicsEndImageContext")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" img"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("h3",{attrs:{id:"_2-使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-使用"}},[t._v("#")]),t._v(" 2. 使用:")]),t._v(" "),e("div",{staticClass:"language-objectivec extra-class"},[e("pre",{pre:!0,attrs:{class:"language-objectivec"}},[e("code",[t._v("UIImageView "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("imagV "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("UIImageView alloc"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" initWithFrame"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("CGRectMake")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("400")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nimagV"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("image "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),t._v(" imageWithColor"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("UIColor blueColor"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("view addSubview"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("imagV"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("br"),t._v(" "),e("h2",{attrs:{id:"三-设置内容模式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三-设置内容模式"}},[t._v("#")]),t._v(" 三. 设置内容模式")]),t._v(" "),e("div",{staticClass:"language-objectivec extra-class"},[e("pre",{pre:!0,attrs:{class:"language-objectivec"}},[e("code",[t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("imgView"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("contentMode "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" UIViewContentModeScaleAspectFill"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// contentMode 主要是用来设置图片的显示方式，如居中、居右，是否缩放等，有以下几个常量可供设定:")]),t._v("\n\nUIViewContentModeScaleAspectFit "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 图片拉伸至完全显示在UIImageView里面为止（图片不会变形）")]),t._v("\nUIViewContentModeScaleAspectFill "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 图片拉伸至 图片的宽度等于UIImageView的宽度 或者 图片的高度等于UIImageView的高度 为止")]),t._v("\nUIViewContentModeRedraw "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 调用了setNeedsDisplay方法时，就会将图片重新渲染")]),t._v("\nUIViewContentModeCenter "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 居中显示")]),t._v("\nUIViewContentModeTop "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 居上显示")]),t._v("\nUIViewContentModeBottom "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 居下显示")]),t._v("\nUIViewContentModeLeft "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 居左")]),t._v("\nUIViewContentModeRight "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 居右显示")]),t._v("\nUIViewContentModeTopLeft "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 居左上显示")]),t._v("\nUIViewContentModeTopRight "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 居右上显示")]),t._v("\nUIViewContentModeBottomLeft "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 居左下显示")]),t._v("\nUIViewContentModeBottomRight "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 居右下显示")]),t._v("\n")])])]),e("h3",{attrs:{id:"_1-注意："}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-注意："}},[t._v("#")]),t._v(" 1. 注意：")]),t._v(" "),e("ol",[e("li",[t._v("以上几个常量，凡是没有带Scale的，当图片尺寸超过 ImageView 尺寸时，只有部分显示在ImageView中。")]),t._v(" "),e("li",[e("code",[t._v("UIViewContentModeScaleToFill")]),t._v(" 属性会导致图片变形。")]),t._v(" "),e("li",[e("code",[t._v("UIViewContentModeScaleAspectFit")]),t._v(" 会保证图片比例不变，而且全部显示在ImageView中，这意味着ImageView会有部分空白。")]),t._v(" "),e("li",[e("code",[t._v("UIViewContentModeScaleAspectFill")]),t._v(" 也会证图片比例不变，但是是填充整个ImageView的，可能只有部分图片显示出来。")])]),t._v(" "),e("img",{attrs:{src:s(295),width:"400",height:"400"}}),t._v(" "),e("img",{attrs:{src:s(296),width:"400",height:"400"}}),t._v(" "),e("br"),t._v(" "),e("h2",{attrs:{id:"四-图片的加载方式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#四-图片的加载方式"}},[t._v("#")]),t._v(" 四. 图片的加载方式")]),t._v(" "),e("h3",{attrs:{id:"_1-使用-imagename-加载图片"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-使用-imagename-加载图片"}},[t._v("#")]),t._v(" 1. 使用 "),e("code",[t._v("imageName:")]),t._v("加载图片:")]),t._v(" "),e("ol",[e("li",[t._v("加载到内存当中之后, 会一直停留在内存中, 不会随着对象销毁而销毁, 加载过的图片, 永远有缓存")]),t._v(" "),e("li",[t._v("加载进去图片之后, 占用的内存归系统管理, 我们无法管理")]),t._v(" "),e("li",[t._v("相同的图片, 图片不会重复加载")]),t._v(" "),e("li",[t._v("加载到内存当中后, 占据内存空间较大")])]),t._v(" "),e("h3",{attrs:{id:"_2-使用-imagewithcontentsoffile-加载图片"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-使用-imagewithcontentsoffile-加载图片"}},[t._v("#")]),t._v(" 2. 使用 "),e("code",[t._v("imageWithContentsOfFile:")]),t._v(" 加载图片:")]),t._v(" "),e("ol",[e("li",[t._v("加载到内存中后, 占据内存空间较小")]),t._v(" "),e("li",[t._v("相同的图片会被重复加载到内存中")]),t._v(" "),e("li",[t._v("对象销毁的时候, 加载到内存中的图片会随着一起销毁")])]),t._v(" "),e("h3",{attrs:{id:"_3-结论"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-结论"}},[t._v("#")]),t._v(" 3. 结论:")]),t._v(" "),e("ol",[e("li",[e("strong",[t._v("如果图片较小,")]),t._v(" 并且使用频繁的图片使用"),e("code",[t._v("imageName:")]),t._v("加载(按钮图标/ 主页里面图片), 图片放在Images.xcassets中")]),t._v(" "),e("li",[e("strong",[t._v("如果图片较大,")]),t._v(" 并且使用较少, 使用"),e("code",[t._v("imageWithContentsOfFile:")]),t._v("加载(Tom猫/版本新特性/相册), 不要放在Images.xcassets")])]),t._v(" "),e("br"),t._v(" "),e("h2",{attrs:{id:"五-图片存放"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#五-图片存放"}},[t._v("#")]),t._v(" 五. 图片存放")]),t._v(" "),e("p",[t._v("我们项目中正常图片会有两种存放方式: 放到 Images.xcassets里面, 直接拖入到项目中")]),t._v(" "),e("h3",{attrs:{id:"_1-放到-images-xcassets里面"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-放到-images-xcassets里面"}},[t._v("#")]),t._v(" 1. 放到 Images.xcassets里面:")]),t._v(" "),e("ol",[e("li",[t._v("部署版本在 >=iOS8 的时候, 打包的资源包中图片会被放到Assets.car中, 图片被压缩")]),t._v(" "),e("li",[t._v("部署版本在 <iOS8 的时候, 打包的资源包中图片会被放在MainBundle中. 图片没有被压缩")])]),t._v(" "),e("h3",{attrs:{id:"_2-图片直接拖入到项目中"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-图片直接拖入到项目中"}},[t._v("#")]),t._v(" 2. 图片直接拖入到项目中:")]),t._v(" "),e("ol",[e("li",[t._v("如果图片直击被拖入到项目中, 无论部署版本是多少, 都会被放到MainBundle里, 图片没有被压缩")])]),t._v(" "),e("br")])}),[],!1,null,null,null);a.default=n.exports}}]);