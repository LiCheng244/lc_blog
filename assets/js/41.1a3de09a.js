(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{288:function(t,a,s){t.exports=s.p+"assets/img/19010102.665f683c.png"},289:function(t,a,s){t.exports=s.p+"assets/img/19010103.c13877c5.png"},563:function(t,a,s){"use strict";s.r(a);var n=s(6),r=Object(n.a)({},(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",[t._v("关于沙盒机制(sandBox)")]),t._v(" "),n("br"),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("引言:")]),t._v(" "),n("p",[t._v("iOS中的沙盒机制是一种安全体系, 规定了应用程序只能在为该改程序创建的文件中读取文件，不可以去其它地方访问，此区域被成为沙盒。\n所有的非代码文件都要保存在自己的沙盒中，例如图像，图标，声音，映像，属性列表，文本文件等。")])]),t._v(" "),n("br"),t._v(" "),n("h2",{attrs:{id:"一-沙盒机制"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一-沙盒机制"}},[t._v("#")]),t._v(" 一. 沙盒机制")]),t._v(" "),n("ol",[n("li",[t._v("每个应用程序都有自己的存储空间")]),t._v(" "),n("li",[t._v("应用程序不能翻过自己的围墙去访问别的存储空间的内容")]),t._v(" "),n("li",[t._v("应用程序请求的数据都要通过权限检测，假如不符合条件的话，不会被放行。")])]),t._v(" "),n("img",{attrs:{src:s(288),width:"400",align:"center"}}),t._v(" "),n("p",[t._v("通过这张图只能从表层上理解sandbox是一种安全体系，应用程序的所有操作都要通过这个体系来执行，其中核心内容是："),n("strong",[t._v("sandbox对应用程序执行各种操作的权限限制。")])]),t._v(" "),n("br"),t._v(" "),n("h2",{attrs:{id:"二-目录结构"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#二-目录结构"}},[t._v("#")]),t._v(" 二. 目录结构")]),t._v(" "),n("p",[t._v("因为应用的沙盒机制，应用只能在以下几个目录下读写文件。默认情况下，每个沙盒含有3个文件夹："),n("code",[t._v("Documents")]),t._v(", "),n("code",[t._v("Library")]),t._v(" 和 "),n("code",[t._v("tmp")]),t._v(":")]),t._v(" "),n("p",[t._v("每个应用的沙盒目录都是相似的，主要包含图中所示的4个目录：")]),t._v(" "),n("img",{attrs:{src:s(289),width:"300",align:"center"}}),t._v(" "),n("br"),t._v(" "),n("h3",{attrs:{id:"_1、myapp-app"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1、myapp-app"}},[t._v("#")]),t._v(" 1、MyApp.app")]),t._v(" "),n("p",[n("code",[t._v("① 存放内容")]),t._v("\n该目录包含了应用程序本身的数据，包括资源文件和可执行文件等。程序启动以后，会根据需要从该目录中动态加载代码或资源到内存，这里用到了lazy loading的思想。")]),t._v(" "),n("p",[n("code",[t._v("② 整个目录是只读的")]),t._v("\n为了防止被篡改，应用在安装的时候会将该目录签名。非越狱情况下，该目录中内容是无法更改的；在越狱设备上如果更改了目录内容，对应的签名就会被改变，这种情况下苹果官网描述的后果是应用程序将无法启动，我没实践过。")]),t._v(" "),n("p",[n("code",[t._v("③ 是否会被iTunes同步")]),t._v("\n否")]),t._v(" "),n("h3",{attrs:{id:"_2、documents"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2、documents"}},[t._v("#")]),t._v(" 2、Documents")]),t._v(" "),n("p",[n("code",[t._v("① 存放内容")]),t._v("\n我们可以将应用程序的数据文件保存在该目录下。不过这些数据类型仅限于不可再生的数据，可再生的数据文件应该存放在Library/Cache目录下。")]),t._v(" "),n("p",[n("code",[t._v("② 是否会被iTunes同步")]),t._v("\n是")]),t._v(" "),n("h3",{attrs:{id:"_3、documents-inbox"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3、documents-inbox"}},[t._v("#")]),t._v(" 3、Documents/Inbox")]),t._v(" "),n("p",[n("code",[t._v("① 存放内容")]),t._v("\n该目录用来保存由外部应用请求当前应用程序打开的文件。\n比如我们的应用叫A，向系统注册了几种可打开的文件格式，B应用有一个A支持的格式的文件F，并且申请调用A打开F。由于F当前是在B应用的沙盒中，我们知道，沙盒机制是不允许A访问B沙盒中的文件，因此苹果的解决方案是讲F拷贝一份到A应用的Documents/Inbox目录下，再让A打开F。")]),t._v(" "),n("p",[n("code",[t._v("② 是否会被iTunes同步")]),t._v("\n是")]),t._v(" "),n("h3",{attrs:{id:"_4、library"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4、library"}},[t._v("#")]),t._v(" 4、Library")]),t._v(" "),n("p",[n("code",[t._v("① 存放内容")]),t._v("\n苹果建议用来存放默认设置或其它状态信息。")]),t._v(" "),n("p",[n("code",[t._v("② 是否会被iTunes同步")]),t._v("\n是，但是要除了Caches子目录外")]),t._v(" "),n("h3",{attrs:{id:"_5、library-caches"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5、library-caches"}},[t._v("#")]),t._v(" 5、Library/Caches")]),t._v(" "),n("p",[n("code",[t._v("① 存放内容")]),t._v("\n主要是缓存文件，用户使用过程中缓存都可以保存在这个目录中。前面说过，Documents目录用于保存不可再生的文件，那么这个目录就用于保存那些可再生的文件，比如网络请求的数据。鉴于此，应用程序通常还需要负责删除这些文件。")]),t._v(" "),n("p",[n("code",[t._v("② 是否会被iTunes同步")]),t._v("\n否")]),t._v(" "),n("h3",{attrs:{id:"_6、library-preferences"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6、library-preferences"}},[t._v("#")]),t._v(" 6、Library/Preferences")]),t._v(" "),n("p",[n("code",[t._v("① 存放内容")]),t._v("\n应用程序的偏好设置文件。我们使用NSUserDefaults写的设置数据都会保存到该目录下的一个plist文件中，这就是所谓的写道plist中！")]),t._v(" "),n("p",[n("code",[t._v("② 是否会被iTunes同步")]),t._v("\n是")]),t._v(" "),n("h3",{attrs:{id:"_7、tmp"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7、tmp"}},[t._v("#")]),t._v(" 7、tmp")]),t._v(" "),n("p",[n("code",[t._v("① 存放内容")]),t._v("\n各种临时文件，保存应用再次启动时不需要的文件。而且，当应用不再需要这些文件时应该主动将其删除，因为该目录下的东西随时有可能被系统清理掉，目前已知的一种可能清理的原因是系统磁盘存储空间不足的时候。")]),t._v(" "),n("p",[n("code",[t._v("② 是否会被iTunes同步")]),t._v("\n否")]),t._v(" "),n("p",[n("strong",[t._v("iTunes在与iPhone同步时，备份所有的Documents和Library文件。")])]),t._v(" "),n("p",[n("strong",[t._v("iPhone在重启时，会丢弃所有的tmp文件。")])]),t._v(" "),n("br"),t._v(" "),n("h2",{attrs:{id:"三-代码获取文件夹路径"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#三-代码获取文件夹路径"}},[t._v("#")]),t._v(" 三. 代码获取文件夹路径")]),t._v(" "),n("h3",{attrs:{id:"获取根目录"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#获取根目录"}},[t._v("#")]),t._v(" 获取根目录:")]),t._v(" "),n("div",{staticClass:"language-objectivec extra-class"},[n("pre",{pre:!0,attrs:{class:"language-objectivec"}},[n("code",[t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取根目录")]),t._v("\nNSString "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("homePath "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("NSHomeDirectory")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("NSLog")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('@"Home目录：%@"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("homePath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),n("h3",{attrs:{id:"获取documents文件夹目录"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#获取documents文件夹目录"}},[t._v("#")]),t._v(" 获取Documents文件夹目录:")]),t._v(" "),n("div",{staticClass:"language-objectivec extra-class"},[n("pre",{pre:!0,attrs:{class:"language-objectivec"}},[n("code",[t._v("\nNSArray "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("docPath "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("NSSearchPathForDirectoriesInDomains")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("NSDocumentDirectory"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("NSUserDomainMask"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" YES"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nNSString "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("documentsPath "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("docPath objectAtIndex"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("NSLog")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('@"Documents目录：%@"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("documentsPath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),n("h3",{attrs:{id:"获取library文件夹目录"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#获取library文件夹目录"}},[t._v("#")]),t._v(" 获取Library文件夹目录:")]),t._v(" "),n("div",{staticClass:"language-objectivec extra-class"},[n("pre",{pre:!0,attrs:{class:"language-objectivec"}},[n("code",[t._v("\nNSArray "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("libsPath "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("NSSearchPathForDirectoriesInDomains")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("NSLibraryDirectory"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" NSUserDomainMask"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" YES"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nNSString "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("libPath "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("libsPath objectAtIndex"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("NSLog")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('@"Library目录：%@"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("libPath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),n("h3",{attrs:{id:"获取cache文件夹目录"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#获取cache文件夹目录"}},[t._v("#")]),t._v(" 获取Cache文件夹目录:")]),t._v(" "),n("div",{staticClass:"language-objectivec extra-class"},[n("pre",{pre:!0,attrs:{class:"language-objectivec"}},[n("code",[t._v("\nNSArray "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("cacPath "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("NSSearchPathForDirectoriesInDomains")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("NSCachesDirectory"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" NSUserDomainMask"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" YES"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nNSString "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("cachePath "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("cacPath objectAtIndex"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("NSLog")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('@"Cache目录：%@"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("cachePath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),n("h3",{attrs:{id:"获取tmp目录"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#获取tmp目录"}},[t._v("#")]),t._v(" 获取tmp目录:")]),t._v(" "),n("div",{staticClass:"language-objectivec extra-class"},[n("pre",{pre:!0,attrs:{class:"language-objectivec"}},[n("code",[t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//temp目录")]),t._v("\nNSString "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("tempPath "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("NSTemporaryDirectory")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("NSLog")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('@"temp目录：%@"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("tempPath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),n("br"),t._v(" "),n("h2",{attrs:{id:"四-沙盒读写文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#四-沙盒读写文件"}},[t._v("#")]),t._v(" 四. 沙盒读写文件")]),t._v(" "),n("h3",{attrs:{id:"向沙盒中写入文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#向沙盒中写入文件"}},[t._v("#")]),t._v(" 向沙盒中写入文件:")]),t._v(" "),n("div",{staticClass:"language-objectivec extra-class"},[n("pre",{pre:!0,attrs:{class:"language-objectivec"}},[n("code",[t._v("\nNSArray "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("docPath "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("NSSearchPathForDirectoriesInDomains")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("NSDocumentDirectory"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("NSUserDomainMask"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" YES"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nNSString "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("documentsPath "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("docPath objectAtIndex"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//写入文件")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("documentsPath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("NSLog")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('@"目录未找到"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tNSString "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("filePaht "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("documentsPath stringByAppendingPathComponent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('@"test.txt"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tNSArray "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("array "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("NSArray arrayWithObjects"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('@"Title"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('@"Contents"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" nil"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("array writeToFile"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("filePaht atomically"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("YES"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),n("h3",{attrs:{id:"向沙盒中写入文件-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#向沙盒中写入文件-2"}},[t._v("#")]),t._v(" 向沙盒中写入文件:")]),t._v(" "),n("div",{staticClass:"language-objectivec extra-class"},[n("pre",{pre:!0,attrs:{class:"language-objectivec"}},[n("code",[t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//读取文件")]),t._v("\nNSArray "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("docPath "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("NSSearchPathForDirectoriesInDomains")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("NSDocumentDirectory"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("NSUserDomainMask"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" YES"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nNSString "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("documentsPath "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("docPath objectAtIndex"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nNSString "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("readPath "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("documentsPath stringByAppendingPathComponent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('@"test.txt"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 写入的什么类型的数据 就要用这个类型来读取")]),t._v("\nNSArray "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("fileContent "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("NSArray alloc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" initWithContentsOfFile"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("readPath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("NSLog")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('@"文件内容：%@"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("fileContent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),n("br"),t._v(" "),n("br")])}),[],!1,null,null,null);a.default=r.exports}}]);