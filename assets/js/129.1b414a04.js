(window.webpackJsonp=window.webpackJsonp||[]).push([[129],{513:function(t,s,a){"use strict";a.r(s);var n=a(6),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",[t._v("通过代码调节屏幕亮度")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("前言")])]),t._v(" "),a("br"),t._v(" "),a("h2",{attrs:{id:"一-控制手机的屏幕亮度"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-控制手机的屏幕亮度"}},[t._v("#")]),t._v(" 一. 控制手机的屏幕亮度")]),t._v(" "),a("h3",{attrs:{id:"_1-方法："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-方法："}},[t._v("#")]),t._v(" 1. 方法：")]),t._v(" "),a("div",{staticClass:"language-objectivec extra-class"},[a("pre",{pre:!0,attrs:{class:"language-objectivec"}},[a("code",[a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("pragma")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token expression"}},[t._v("mark "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" 设置亮度")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// value ：屏幕的亮度值 这个值介于0和1之间")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("UIScreen mainScreen"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" setBrightness"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("pragma")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token expression"}},[t._v("mark "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" 获取亮度")])]),t._v("\nCGFloat "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("brightness "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("UIScreen mainScreen"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" brightness"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),t._v(" "),a("h3",{attrs:{id:"_2-注意："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-注意："}},[t._v("#")]),t._v(" 2. 注意：")]),t._v(" "),a("ol",[a("li",[t._v("该方法会 即时更改屏幕亮度，无需手动刷新；")]),t._v(" "),a("li",[t._v("该方法是调整了整个手机的屏幕亮度，并不仅仅是当前 APP 的亮度；")]),t._v(" "),a("li",[t._v("这个亮度在完全退出当前 APP 后还是会继续保持的；")])]),t._v(" "),a("br"),t._v(" "),a("h2",{attrs:{id:"二-控制当前-app-的屏幕亮度"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-控制当前-app-的屏幕亮度"}},[t._v("#")]),t._v(" 二. 控制当前 APP 的屏幕亮度")]),t._v(" "),a("h3",{attrs:{id:"_1-思路："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-思路："}},[t._v("#")]),t._v(" 1. 思路：")]),t._v(" "),a("blockquote",[a("p",[t._v("上述的方式只能全局修改手机的屏幕亮度， 要只对当前 APP 亮度修改，可以在进入 APP 之前将当前亮度值保存， 在 APP 退出时将当前亮度还原。")])]),t._v(" "),a("h3",{attrs:{id:"_2-实现："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-实现："}},[t._v("#")]),t._v(" 2. 实现：")]),t._v(" "),a("div",{staticClass:"language-objectivec extra-class"},[a("pre",{pre:!0,attrs:{class:"language-objectivec"}},[a("code",[a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("pragma")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token expression"}},[t._v("mark "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" 程序启动")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("BOOL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("application"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("UIApplication "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("application didFinishLaunchingWithOptions"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("NSDictionary "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("launchOptions "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1. 获取当前手机亮度")]),t._v("\n   CGFloat "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("brightness "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("UIScreen mainScreen"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" brightness"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("brightness "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" brightness"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\n   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2. 对当前 APP 设置特有亮度")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("UIScreen mainScreen"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" setBrightness"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n   "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" YES"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("pragma")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token expression"}},[t._v("mark "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" 程序将要进入后台")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("applicationWillResignActive"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("UIApplication "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("application "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 还原原来的亮度")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("UIScreen mainScreen"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" setBrightness"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("brightness"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("pragma")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token expression"}},[t._v("mark "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" 程序将要进入前台")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("applicationWillEnterForeground"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("UIApplication "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("application "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\n   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 对当前 APP 设置特有亮度")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("UIScreen mainScreen"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" setBrightness"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("br")])}),[],!1,null,null,null);s.default=e.exports}}]);